<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${subject}">Đặt lại mật khẩu</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <style type="text/css">
        /* Responsive CSS and Fallbacks */
        body {
            margin: 0;
            padding: 0;
            width: 100% !important;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            font-family: 'Arial', sans-serif; /* Changed to a more common sans-serif stack */
            line-height: 1.6;
            color: #34495e; /* Dark greyish blue for text */
            background-color: #f4f7f6; /* Light background for the whole page */
        }

        table {
            border-collapse: collapse;
            mso-table-lspace: 0pt;
            mso-table-rspace: 0pt;
        }

        td, th {
            border-collapse: collapse;
        }

        img {
            border: 0;
            outline: none;
            text-decoration: none;
            -ms-interpolation-mode: bicubic; /* Improves image rendering in Outlook */
        }

        .email-container {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border: 1px solid #dfe3e8; /* Softer border */
            border-radius: 8px; /* Maintained for modern clients */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05); /* Softer shadow */
        }

        .email-header {
            background-color: #ffffff; /* Clean white header */
            padding: 20px 30px 10px 30px; /* Adjusted padding to give more space for the logo */
            text-align: center;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            border-bottom: 1px solid #dfe3e8; /* Separator line */
        }

        .logo {
            width: 100%; /* Make logo fill the width of its container */
            height: auto; /* Maintain aspect ratio */
            display: block;
            margin: 0 auto 10px auto; /* Centered with some bottom margin */
            border: 0;
            outline: none;
            text-decoration: none;
            -ms-interpolation-mode: bicubic; /* Improves image rendering in Outlook */
        }

        .system-name {
            margin: 0;
            color: #2c3e50; /* Dark, slightly desaturated blue for system name */
            font-size: 24px; /* Slightly adjusted size */
            font-weight: bold;
            font-family: 'Arial', sans-serif;
            padding-top: 10px; /* Add some padding above the system name if logo is present */
        }

        .email-body {
            padding: 30px 30px 30px 30px; /* Generous padding */
            background-color: #ffffff;
        }

        .body-title {
            color: #2c3e50;
            font-family: 'Arial', sans-serif;
            font-size: 22px; /* Prominent title */
            font-weight: bold;
            padding-bottom: 20px; /* More space after title */
        }

        .body-text {
            padding: 0 0 20px 0;
            color: #34495e; /* Consistent text color */
            font-family: 'Arial', sans-serif;
            font-size: 16px;
            line-height: 1.7; /* Improved line height */
        }

        .employee-name {
            color: #3498db; /* Accent blue for employee name */
            font-weight: bold;
        }

        .token-container {
            padding: 15px 0 25px 0; /* Adjusted padding */
            text-align: center;
        }

        .token-display {
            font-size: 24px; /* Larger token font */
            font-weight: bold;
            color: #2980b9; /* Darker blue for token text */
            padding: 15px 25px; /* Generous padding for token */
            background-color: #ecf0f1; /* Light grey background for token */
            border-radius: 6px; /* Slightly more rounded */
            display: inline-block;
            letter-spacing: 2px; /* Make token easier to read */
            border: 1px dashed #bdc3c7; /* Dashed border for emphasis */
            font-family: 'Courier New', Courier, monospace; /* Monospace for token */
        }

        .email-footer {
            background-color: #f9fafb; /* Very light grey for footer */
            padding: 25px 30px 25px 30px;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
            border-top: 1px solid #dfe3e8;
        }

        .footer-text {
            color: #7f8c8d; /* Grey for footer text */
            font-family: 'Arial', sans-serif;
            font-size: 13px; /* Slightly larger footer text */
            line-height: 1.5;
            text-align: center;
        }

        /* Responsive adjustments */
        @media screen and (max-width: 600px) {
            .email-container {
                width: 100% !important;
                border-radius: 0 !important;
                border-left: none !important;
                border-right: none !important;
            }

            .email-header, .email-body, .email-footer {
                padding-left: 20px !important;
                padding-right: 20px !important;
            }

            .system-name {
                font-size: 20px !important; /* Slightly smaller on mobile */
            }

            .body-title {
                font-size: 20px !important;
            }

            .token-display {
                font-size: 20px !important;
                padding: 12px 20px !important;
                letter-spacing: 1px !important;
            }
        }
    </style>
</head>
<body style="margin: 0; padding: 0; width: 100% !important; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; font-family: 'Arial', sans-serif; line-height: 1.6; color: #34495e; background-color: #f4f7f6;">
<table border="0" cellpadding="0" cellspacing="0" role="presentation" width="100%">
    <tr>
        <td style="padding: 20px 0 20px 0;">
            <table align="center" border="0" cellpadding="0" cellspacing="0" class="email-container" role="presentation"
                   style="width: 100%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border: 1px solid #dfe3e8; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05);">
                <tr>
                    <td class="email-header"
                        style="background-color: #ffffff; padding: 20px 30px 10px 30px; text-align: center; border-top-left-radius: 8px; border-top-right-radius: 8px; border-bottom: 1px solid #dfe3e8;">
                        <img alt="Logo Công ty" class="logo"
                             onerror="this.onerror=null;this.src='https://placehold.co/600x150/E0E0E0/333333?text=Logo+Fallback';"
                             style="width: 100%; height: auto; display: block; margin: 0 auto 10px auto; border: 0; outline: none; text-decoration: none; -ms-interpolation-mode: bicubic;" th:if="${logoUrl}"
                             th:src="${logoUrl}"/>
                        <h1 class="system-name"
                            style="margin: 0; color: #2c3e50; font-size: 24px; font-weight: bold; font-family: 'Arial', sans-serif; padding-top: 10px;"
                            th:text="${systemName}">Hệ thống của bạn</h1>
                    </td>
                </tr>
                <tr>
                    <td class="email-body" style="padding: 30px 30px 30px 30px; background-color: #ffffff;">
                        <table border="0" cellpadding="0" cellspacing="0" role="presentation" width="100%">
                            <tr>
                                <td class="body-title"
                                    style="color: #2c3e50; font-family: 'Arial', sans-serif; font-size: 22px; font-weight: bold; padding-bottom: 20px;">
                                    Yêu cầu đặt lại mật khẩu
                                </td>
                            </tr>
                            <tr>
                                <td class="body-text"
                                    style="padding: 0 0 20px 0; color: #34495e; font-family: 'Arial', sans-serif; font-size: 16px; line-height: 1.7;">
                                    Chào <strong class="employee-name" style="color: #3498db; font-weight: bold;"
                                                 th:text="${employeeName}">Nhân viên</strong>,
                                </td>
                            </tr>
                            <tr>
                                <td class="body-text"
                                    style="padding: 0 0 20px 0; color: #34495e; font-family: 'Arial', sans-serif; font-size: 16px; line-height: 1.7;">
                                    Chúng tôi nhận được yêu cầu đặt lại mật khẩu cho tài khoản của bạn.
                                </td>
                            </tr>
                            <tr>
                                <td class="body-text"
                                    style="padding: 0 0 20px 0; color: #34495e; font-family: 'Arial', sans-serif; font-size: 16px; line-height: 1.7;">
                                    Vui lòng sử dụng mã token sau (có hiệu lực trong một khoảng thời gian nhất định) để
                                    hoàn tất quá trình đặt lại mật khẩu:
                                </td>
                            </tr>
                            <tr>
                                <td class="token-container" style="padding: 15px 0 25px 0; text-align: center;">
                                    <div class="token-display"
                                         style="font-size: 24px; font-weight: bold; color: #2980b9; padding: 15px 25px; background-color: #ecf0f1; border-radius: 6px; display: inline-block; letter-spacing: 2px; border: 1px dashed #bdc3c7; font-family: 'Courier New', Courier, monospace;"
                                         th:text="${token}">TOKEN_PLACEHOLDER
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="body-text"
                                    style="padding: 0 0 20px 0; color: #34495e; font-family: 'Arial', sans-serif; font-size: 16px; line-height: 1.7;">
                                    Nếu bạn không yêu cầu đặt lại mật khẩu, vui lòng bỏ qua email này. Mật khẩu của bạn
                                    sẽ không thay đổi.
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td class="email-footer"
                        style="background-color: #f9fafb; padding: 25px 30px 25px 30px; border-bottom-left-radius: 8px; border-bottom-right-radius: 8px; border-top: 1px solid #dfe3e8;">
                        <table border="0" cellpadding="0" cellspacing="0" role="presentation" width="100%">
                            <tr>
                                <td class="footer-text"
                                    style="color: #7f8c8d; font-family: 'Arial', sans-serif; font-size: 13px; line-height: 1.5; text-align: center;">
                                    &copy; <span th:text="${#dates.year(#dates.createNow())}">2024</span> <span
                                        th:text="${companyName}">Tên Công ty của bạn</span>. Bảo lưu mọi quyền.<br/>
                                    Đây là một email tự động, vui lòng không trả lời.
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
</body>
</html>
